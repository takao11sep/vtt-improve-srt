# VTT to SRT Converter - Claude内部完結型（完全無料版）

**追加料金なし！** このチャット内のClaudeが直接校正します。

## 🎯 特徴

- ✅ **完全無料** - Claude Pro範囲内で処理
- ✅ **外部API不要** - このチャット内で完結
- ✅ **高精度AI校正** - Claude Sonnet 4による校正
- ✅ **歯科・矯正専門用語** の正確な変換
- ✅ **簡単操作** - コピペだけ

## 📋 処理フロー

```
[ステップ1] VTTファイルをバッチJSONに分割
    ↓
[ステップ2] 各バッチをClaudeに読み込ませて校正依頼
    ↓
[ステップ3] Claudeが校正してSRTファイルを生成
    ↓
[ステップ4] 全バッチを結合して完成
```

## 🚀 使い方

### ステップ1: VTTファイルをバッチに分割

```bash
python3 split_vtt_to_batches.py /path/to/your/file.vtt
```

または、ドラッグ&ドロップ：

```bash
python3 /Users/takao11sep/claude-project/vtt-improve-srt/split_vtt_to_batches.py [VTTファイルをドロップ]
```

実行すると `work_YYYYMMDD_HHMMSS` フォルダが作成され、以下のファイルが生成されます：

```
work_20260114_123456/
├── batch_1.json          # 1-100エントリ
├── batch_2.json          # 101-200エントリ
├── batch_3.json          # 201-300エントリ
├── ...
└── README_WORKFLOW.txt   # 次の手順
```

### ステップ2: Claudeに校正を依頼

**このチャット**に以下のメッセージを送信：

```
work_20260114_123456/batch_1.json を読み込んで、歯科・矯正歯科の専門家として高精度に校正してください。

【校正ルール】
1. フィラー完全除去（えー、あのー、えっと、その、まあ、なんか等）
2. 歯科・矯正専門用語の正確な変換
   - 音声認識の誤変換を正しい専門用語に修正
   - 例：「ほてつ」→「補綴」、「インビザライン」等の固有名詞を正確に
   - 「咬合」「舌側」「頬側」「近心」「遠心」等の解剖学用語
   - 「IPR」「アタッチメント」「エラスティック」等の治療用語
3. 自然な日本語への修正（口語表現を適切に修正）
4. 発話者名は絶対に保持
5. タイムコードは変更しない

校正結果を work_20260114_123456/output_batch_1.srt として保存してください。
```

### ステップ3: 残りのバッチも同様に処理

```
work_20260114_123456/batch_2.json を読み込んで校正してください
→ output_batch_2.srt を生成

work_20260114_123456/batch_3.json を読み込んで校正してください
→ output_batch_3.srt を生成

...
```

### ステップ4: 全バッチを結合

全バッチの校正が完了したら、Claudeに以下を依頼：

```
work_20260114_123456 フォルダ内の output_batch_1.srt から output_batch_N.srt をすべて結合して、final_output_corrected.srt を作成してください。
```

## 💡 ヒント

### 一括依頼も可能

バッチ数が少ない（5個以下）場合、一度に全部依頼もできます：

```
以下のファイルを順番に校正してSRTを作成してください：
1. work_20260114_123456/batch_1.json → output_batch_1.srt
2. work_20260114_123456/batch_2.json → output_batch_2.srt
3. work_20260114_123456/batch_3.json → output_batch_3.srt

完了したら final_output_corrected.srt に結合してください。
```

### タイムスタンプ形式

- VTT形式: `00:02:56.710`（ピリオド）
- SRT形式: `00:02:56,710`（カンマ）

Claudeが自動で変換します。

## 📊 校正例

### Before（VTT）
```json
{
  "index": 3,
  "start": "00:03:05.590",
  "end": "00:03:07.899",
  "text": "minamidate: えー、ジャミロックワイ。なんすね。ようは。"
}
```

### After（SRT）
```
3
00:03:05,590 --> 00:03:07,899
minamidate: ジャミロクワイなんですね。要は。
```

## 🆚 従来版との比較

| 項目 | API版 | **Claude内部完結型（本方式）** |
|------|------|----------------------------|
| 追加料金 | 必要 | **不要**（Pro範囲内） |
| 校正精度 | 高 | **高**（同じClaude使用） |
| 処理速度 | 自動（遅い） | **手動だが柔軟** |
| セットアップ | APIキー必要 | **不要** |
| ネット接続 | 必要 | 必要（Claudeチャット） |

## ⚠️ 注意事項

- 各バッチの処理は手動でメッセージ送信が必要です
- バッチ数が多い場合（20個以上）は時間がかかります
- Claude Proの制限内で処理されます

## 🎓 推奨ワークフロー

**小規模（5バッチ以下）**: 一括依頼
**中規模（6-10バッチ）**: 2-3個ずつ依頼
**大規模（11バッチ以上）**: API版の使用を検討
